<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Public Amebo | Login</title>
    
    <!--For the Login  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="super_container">
        <header>
          <div class="main_nav_container">
                  <div class="container">
                      <div class="row">
                          <div class="col-lg-12 text-right">
                              <div class="logo_container">
                                  <a href="index.html">Public Amebo</a>
                              </div>
                              <nav class="navbar">
                              </nav>
                          </div>
                      </div>
                  </div>
              </div>
        </header>
        <div class="login-clean">
            <form method="get" action="profile/user.html" class="form">
                <center><h2 class="">Login</h2></center>
                
                <div class="form-group"><input class="form-control email" type="email" name="email" placeholder="Email" required></div>
                <div class="form-group"><input class="form-control password" type="password" name="password" placeholder="Password" required></div>
                <div class="form-group"><button class="btn btn-primary btn-block btn-register" type="submit">Log In</button></div><a href="register.html" class="forgot">Don't have an account yet? Register</a>
                <br>
                <div class="form-group"><button class="btn btn-primary btn-block anon" type="submit">Log in Anonymously</button></div><a href="#" class="forgot"></a>
            </form>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/7.5.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.2/firebase-auth.js"></script>
    <script src="./js/firebase.js"></script>
    <script>
        const email = document.querySelector('.email')
        const password = document.querySelector('.password')
        const form = document.querySelector('.form')
        const anon = document.querySelector('.anon')
    
        form.addEventListener('submit', (e) => {
            e.preventDefault()
            auth.signInWithEmailAndPassword(email.value, password.value)
            .then(() => {
                console.log('Login successfully')
                window.location = 'post.html'
            })
            .catch(error => console.log(error.message))
        })

        anon.addEventListener('click', () => {
            auth.signInAnonymously()
            .then(() => {
                console.log('Anonymously signed in');
                window.location = './index.html'
            })
            .catch(error => console.log(error.message))
        })
    </script> 
</body>

</html>
